## ПРАВА ДОСТУПА И ПОЛЬЗОВАТЕЛИ

### КЛАССИФИКАЦИЯ ПОЛЬЗОВАТЕЛЕЙ В LINUX
|параметр|суперпользователь|обычный пользователь|системный пользователь|
|---|---|---|---|
|название|root|user|daemon|
|UID (user ID)|UID = 0|UID >= 1000|1 <= UID < 1000|
|домашняя директория|/root|/home/user|любая|
|пароль|может не быть|есть|нет|
|shell (оболочка)|есть|есть|нет|
|доступ|неограниченный|в рамках домашней директории|ограниченный|

### АТРИБУТЫ ПОЛЬЗОВАТЕЛЯ
* UID (user ID)
* GID (group ID)
* домашняя директория (home) - /home/user
* логин (login)
* пароль (password)
* оболочка (shell) - /bin/bash

### ХРАНЕНИЕ ДАННЫХ О ПОЛЬЗОВАТЕЛЯХ
* /etc/passwd - список пользователей
* /etc/group - группы пользователей
* /etc/shadow - пароли пользователей
* /etc/skel - заготовки файлов для создания нового пользователя (.bash_logout, .bashrc, .profile)

### СПИСОК ПОЛЬЗОВАТЕЛЕЙ
* список пользователей можно посмотреть с помощью команды cat /etc/passwd
* пример строки в файле - root:х:0:0:root:/root:/bin/bash
* root - имя пользователя
* x - пароль пользователя (в файле не представлен)
* 0 - UID
* 0 - GID
* root - полное имя пользователя (содержит параметры через запятую - полное имя, номер комнаты, рабочий телефон, домашний телефон, другое)
* /root - домашняя директория
* /bin/bash - оболочка

### СПИСОК ГРУПП
* список групп можно посмотреть с помощью команды cat /etc/group
* пример строки в файле - root:х:0:
* root - имя группы
* x - пароль группы (в файле не представлен)
* 0 - GID
* в конце представлен список пользователей, которые входят в группу (для большинства групп список пустой); здесь указываются пользователи, для которых эта группа является дополнительной; несколько пользователей разделяются запятой

### СПИСОК ПАРОЛЕЙ ПОЛЬЗОВАТЕЛЕЙ
* список паролей пользователей можно посмотреть с помощью команды sudo cat /etc/shadow
* пример строки в файле - root:!:19362:0:99999:7:::
* root - логин пользователя
* ! - пароль (! или * значит, что пароль не установлен)
* далее идут свойства пароля
* 19362 - дата установки пароля
* 99999 - время действия пароля
* сам пароль хранится в зашифрованном виде (хэш-функция от пароля)

### УПРАВЛЕНИЕ ПОЛЬЗОВАТЕЛЯМИ
* данные команды осуществляются в режиме суперпользователя, нужно использовать команду sudo
* useradd - создание пользователя
* adduser - создание пользователя (скрипт)
* usermod - изменение пользователя
* userdel - удаление пользователя
* passwd - изменение пароля
* chage - изменение свойств пароля
* groupadd - создание группы
* groupdel - удаление группы

### КОМАНДА USERADD
* sudo useradd -s /bin/bash -m -d /home/user user
* -s /bin/bash - параметр shell, установление оболочки bash
* -m -d /home/user - установление домашней директории
* user - логин
* tail /etc/passwd - проверка изменения списка пользователей

### КОМАНДА ADDUSER
* sudo adduser user
* user - логин
* далее задаём пароль, полное имя пользователя
* автоматически задаётся домашняя директория и оболочка bash
* tail /etc/passwd - проверка изменения списка пользователей
* sudo tail /etc/shadow - проверка изменения списка паролей

### КОМАНДА PASSWD
* ввод команды без параметров и без команды sudo означает изменение пароля текущего пользователя
* sudo passwd user
* user - логин пользователя, чей пароль хотим поменять
* далее вводим пароль
* sudo tail /etc/shadow - проверка изменения списка паролей
