## REST API

### REST API
* REST API - способ взаимодействий сайтов и веб-приложений с сервером
* также может быть использовано название RESTful API
* REST (representational state transfer) - архитектурный стиль взаимодействия компонентов распределённой системы в компьютерной сети (клиента и сервера)
* API (application programming interface) - совокупность инструментов и функций в виде интерфейса для создания новых приложений, благодаря которому одна программа будет взаимодействовать с другой

### HTTP-МЕТОДЫ
* каждый запрос состоит из стартовой строки, заголовка и тела запроса
* **стартовая строка** содержит METHOD URI HTTP/VERSION
* METHOD - метод HTTP-запроса
* URI (uniform resource identifier) - единообразный идентификатор ресурса; ресурс - файл на сервере; также ресурсом может являться какой-либо абстрактный объект
* VERSION - версия протокола
* **заголовки** - набор пар "имя - значение", которые разделены между собой двоеточием; в заголовках передаётся необходимая информация для сервера, чтобы он понимал, что за клиент к нему обращается
* **тело запроса** - параметры, которые передаются с клиента на сервер
* в ответе приходит HTML-страница или JSON

### РЕСУРСЫ И МЕТОДЫ
* GET - получение ресурса
* POST - создание ресурса
* PUT - обновление ресурса
* DELETE - удаление ресурса
* HEAD - запрашивает ресурс так же, как и метод GET, но без тела ответа
* CONNECT - устанавливает "туннель" к серверу, определённому по ресурсу
* OPTIONS - используется для описания параметров соединения с ресурсом
* TRACE - выполняет вызов возвращаемого тестового сообщения с ресурса
* PATCH - используется для частичного изменения ресурса

### HTTP-КОДЫ
* код ответа показывает, был ли выполнен HTTP-запрос
* **100-199** - информационные коды
* **200-299** - успешные коды
* **300-399** - перенаправления
* **400-499** - клиентские ошибки
* **500-599** - серверные ошибки

### ИНФОРМАЦИОННЫЕ КОДЫ
* **100** - continue - продолжить - промежуточный ответ, указывает, что запрос успешно принят, и клиент может продолжать присылать запросы либо проигнорировать этот ответ, если запрос был завершён
* **101** - switching protocol - переключение протокола - ответ на запрос клиента, содержащий заголовок Upgrade; указывает, что сервер переключился на протокол, который был указан в заголовке; эта возможность позволяет перейти на несовместимую версию протокола и обычно не используется
* **102** - processing - в обработке - сервер получил запрос и обрабатывает его, но обработка ещё не завершена
* **103** - early hints - ранние подсказки - в ответе сообщаются ресурсы, которые могут быть загружены заранее, пока сервер будет подготавливать основной ответ

### УСПЕШНЫЕ КОДЫ
* **200** - OK - успешно - запрос успешно обработан; успешность зависит от запрошенного метода HTTP
* **201** - created - создано - запрос успешно выполнен, в результате был создан ресурс
* **202** - accepted - принято - запрос принят, но ещё не обработан
* **203** - non-authoritative information - информация не авторитетна
* **204** - no content - нет содержимого для ответа на запрос
* **205** - reset content - сбросить содержимое - код присылается, когда запрос обработан
* **206** - partial content - частичное содержимое

### ПЕРЕНАПРАВЛЕНИЯ
* **300** - multiple choice - множественный выбор - присылается, когда у запроса более одного из возможных вариантов  
* **301** - moved permanently - перемещён на постоянной основе - URI запрашиваемого ресурса был изменён
* **303** - see other - просмотр других ресурсов - код присылается, чтобы направить клиента для получения запрашиваемого ресурса в другой URI с запросом GET
* **305** - use proxy - использовать прокси - запрошенный ресурс должен быть доступен через прокси

### КЛИЕНТСКИЕ ОШИБКИ
* **400** - bad request - плохой запрос - сервер не понимает запрос из-за неверного синтаксиса
* **401** - unauthorized - не авторизовано - для получения ответа нужна аутентификация
* **403** - forbidden - запрещено - у клиента нет права доступа к содержимому, поэтому сервер отказывается дать ответ
* **404** - not found - не найден - сервер не может найти запрашиваемый ресурс; этот код - самый известный из-за частоты его появления в вебе

### СЕРВЕРНЫЕ ОШИБКИ
* **500** - internal server error - внутренняя ошибка сервера - сервер не знает, как обработать ситуацию, с которой он столкнулся
* **501** - not implemented - не выполнено - метод запроса не поддерживается сервером и не может быть обработан
* **502** - bad gateway - плохой шлюз - сервер, во время работы в качестве шлюза для получения ответа, нужного для обработки запроса, получил недействительный (недопустимый) ответ
* **503** - service unavailable - сервис недоступен - сервер не готов обрабатывать запрос; частые причины - отключение сервера или его перегруженность

### ЗАГОЛОВКИ (HEADERS)
* заголовки HTTP позволяют клиенту и серверу отправлять дополнительную информацию с HTTP-запросом или ответом
* заголовки могут группироваться по контекстам
* **основные заголовки** применяются как к запросам, так и ответам, но не имею отношения к данным, передаваемым в теле
* **заголовки запроса** содержат больше информации о ресурсе, который нужно получить, или о клиенте, который запрашивает ресурс
* **заголовки ответа** содержат дополнительную информацию об ответе (например, о местонахождении) или о сервере, предоставившим его
* **заголовки сущности** содержат информацию о теле ресурса (например, длину содержимого или тип MIIME)

### ГРУППЫ ЗАГОЛОВКОВ ЗАПРОСА
* основные заголовки (general headers)
* заголовки запроса (request headers)
* заголовки сущности

### ВИДЫ КЭША
* приватный кэш
* кэш совместного использования

### ЦЕЛИ КЭШИРОВАНИЯ
* успешно загруженные ресурсы - ответ 200 на запрос методом GET HTML-документов, изображений или файлов
* постоянные перенаправления - ответ 301
* сообщения об ошибках - ответ 404
* неполные результаты - ответ 206
* ответы на запросы, отличные от GET, если есть что-либо, подходящее для использования в качестве ключа кэша

### POSTMAN
* Postman - инструмент с открытым исходным кодом
* используется для тестирования REST API
* можно создавать коллекции запросов в разделе Collections
* можно выбирать метод и указывать URI (ссылку)
* можно добавлять необходимую информацию на вкладках Params, Headers, Body
* можно создавать переменные на вкладке Variables
* можно писать тесты и использовать созданные переменные на вкладке Tests, имеются также шаблоны тестов
* можно задавать переменные в разделе Environments для отдельных окружений
* для использования переменной её нужно указать в {{}}
* пример создания переменной на JSON
* var jsonData = pm.response.json();
* pm.collectionVariables.set("token", jsonData.token)
* "token" - переменная, которую создали в коллекции

### ВАЛИДАТОРЫ JSON
* используются для проверки кода на JSON
* пример онлайн-сервиса - jsonformatter.io
